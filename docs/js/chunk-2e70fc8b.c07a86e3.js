(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2e70fc8b"],{"0858":function(t,a,e){"use strict";var n=e("d921"),i=e.n(n);i.a},"16d6":function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticStyle:{"padding-top":"50px"}},[e("div",{staticClass:"wrapper"},[e("div",{staticClass:"section-demo"},[e("h1",[t._v("DEMO")]),e("div",[e("h2",[t._v("\n          原图:\n        ")]),e("img",{ref:"demoImgRef",staticClass:"section-demo-img",attrs:{src:this.demoImg,alt:""}})]),t._m(0)]),e("div",{staticClass:"section-dynamic"},[e("h1",[t._v("体验区域")]),e("div",[e("h2",[t._v("\n          给上传的图片加水印:\n        ")]),e("el-upload",{staticStyle:{"margin-top":"8px"},attrs:{action:"",accept:".jpg, .png","on-change":t.fileChange,"show-file-list":!1,"auto-upload":!1}},[e("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")]),e("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传jpg/png文件，且不超过3M")])],1)],1),t._m(1)])])])},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticStyle:{"margin-top":"24px"}},[e("h2",[t._v("\n          加水印后:\n        ")]),e("canvas",{attrs:{id:"demoCanvas"}})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticStyle:{"margin-top":"24px"}},[e("h2",[t._v("\n          加水印后:\n        ")]),e("canvas",{attrs:{id:"dynamicCanvas"}})])}],r=(e("163d"),e("1ac0")),s=e.n(r),o={data:function(){return{time:null,demoImgRef:null,demoImg:s.a}},mounted:function(){this.demoMark()},methods:{fileChange:function(t){var a=this,e=t.raw;if(e.size>3145728)this.$message.error("图片应不大于3M");else{var n=new FileReader;n.readAsDataURL(e),n.onload=function(){var t=new Image;t.src=n.result,t.onload=function(){a.waterMark(t,document.getElementById("dynamicCanvas"),{width:500})}}}},demoMark:function(){var t=this,a=new Image;a.src=this.demoImg,a.onload=function(){t.waterMark(a,document.getElementById("demoCanvas"))}},waterMark:function(t,a){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=t.naturalWidth,i=t.naturalHeight,r=e.width,s=void 0===r?200:r;s=Number(s),(!s||s<=0)&&this.$message.error("请设置正确的图片宽度"),a.width=s,a.height=i/(n/s);var o=a.getContext("2d");o.drawImage(t,0,0,a.width,a.height),o.fillStyle="rgb(242, 242, 242)",o.font="16px serif",o.rotate(Math.PI/180*20);for(var d=-500;d<1.2*a.width;d+=100)for(var c=-250;c<1.2*a.height;c+=50)o.fillText("watermark",d,c);a.toDataURL("image/png")}}},d=o,c=(e("0858"),e("9ca4")),l=Object(c["a"])(d,n,i,!1,null,"75843736",null);a["default"]=l.exports},"1ac0":function(t,a,e){t.exports=e.p+"img/vueLogo.82b9c7a5.png"},d921:function(t,a,e){}}]);